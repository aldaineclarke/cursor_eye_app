<div class="min-h-full bg-gray-50">
  <nav class="bg-intelli-dark-blue shadow">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-16">
        <div class="flex items-center">
          <div class="flex-shrink-0">
            <!-- Adjusted logo size for better visibility (h-10 instead of h-8) -->
            <img
              class="h-[6rem] w-auto max-h-full"
              src="assets/images/cursor-i-logo.png"
              alt="Company Logo"
            />
          </div>

          <div class="hidden md:block">
            <div class="ml-10 flex items-baseline space-x-4">
              <!-- Navigation Links go here -->
            </div>
          </div>
        </div>

        <div class="">
          <div class="ml-4 flex items-center md:ml-6">
            <div class="ml-3 relative">
              <button
                (click)="openLogoutModal()"
                class="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-lg text-sm font-medium transition duration-150 flex space-x-2"
              >
                <svg
                  class="w-5 h-5 mr-1"
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H3a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"
                  />
                </svg>
                <p>Logout</p>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <header class="bg-white shadow mb-6">
    <div class="max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8 flex justify-between">
      <h1 class="text-xl leading-8 font-extrabold text-gray-900">
        System Configuration
      </h1>
      <p class="font-semibold text-xl" *ngIf="user">Hello {{user.firstName+ " " + user.lastName}}</p>
    </div>
  </header>

<main class="space-y-12 p-2">
  <div class="max-w-7xl mx-auto sm:px-6 lg:px-8">
    <div
      class="p-8 bg-white rounded-xl shadow-2xl border border-gray-100 space-y-8 transition-all duration-300"
    >
      <!-- Header -->
      <div
        class="flex justify-between items-start border-b pb-6 border-gray-200"
      >
        <div>
          <h2 class="text-lg font-bold text-gray-900">
            Configuration Settings
          </h2>
          <p class="mt-1 text-sm text-gray-600">
            The configuration settings will allow you to adjust the different aspects of the video analysis used to interpret the facial gestures. Adjust the system parameters and apply changes to your device.
          </p>
        </div>

        <div
          class="text-sm text-gray-700 font-medium flex items-center bg-gray-50 py-1 px-3 rounded-full border border-gray-200"
        >
          <svg
            *ngIf="isConnected"
            xmlns="http://www.w3.org/2000/svg"
            class="h-4 w-4 mr-1 text-green-600 animate-pulse"
            fill="currentColor"
            viewBox="0 0 24 24"
          >
            <circle cx="12" cy="12" r="6" />
          </svg>

          <svg
            *ngIf="!isConnected"
            xmlns="http://www.w3.org/2000/svg"
            class="h-4 w-4 mr-1 text-red-600"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <circle cx="12" cy="12" r="8" stroke-width="2" />
          </svg>

          {{ isConnected ? "Connected" : "Disconnected" }}
        </div>
      </div>

      <!-- Settings Form -->
      <div class="space-y-6">
        <div>
          <label class="block text-sm font-medium text-gray-700">Resolution</label>

          <select
            [(ngModel)]="config.resolution"
            class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 shadow-sm focus:outline-none focus:ring-intelli-blue focus:border-intelli-blue sm:text-sm rounded-lg border text-gray-900 transition"
          >
            <option *ngFor="let res of resolutions" [value]="res">
              {{ res }}
            </option>
          </select>
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700"
            >FPS: {{ config.fps }}</label
          >

          <input
            type="range"
            min="20"
            max="60"
            [(ngModel)]="config.fps"
            class="w-full mt-2 h-2 rounded-full accent-intelli-blue focus:outline-none cursor-pointer"
          />
        </div>



        <!-- Manual Config Fields -->
        <div
          class="grid grid-cols-2 gap-6"
        >
          <div>
            <label class="block text-sm font-medium text-gray-700"
              >Video Width</label
            >
            <input
              type="number"
              [(ngModel)]="config.videoWidth"
              class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 shadow-sm focus:outline-none focus:ring-intelli-blue focus:border-intelli-blue sm:text-sm rounded-lg text-gray-900 border"
            />
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700"
              >Video Height</label
            >
            <input
              type="number"
              [(ngModel)]="config.videoHeight"
              class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 shadow-sm focus:outline-none focus:ring-intelli-blue focus:border-intelli-blue sm:text-sm rounded-lg text-gray-900 border"
            />
          </div>
        </div>

       
      </div>

      <!-- Action Buttons -->
      <div class="flex space-x-4 border-t pt-6 border-gray-200">
        <button
          (click)="applyConfig()"
          class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg shadow-md text-white bg-intelli-blue hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-intelli-blue transition duration-150"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5 mr-2"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M5 13l4 4L19 7"
            />
          </svg>
          <span>Apply Changes</span>
        </button>

        <button
          (click)="resetConfig()"
          class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg shadow-sm text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-intelli-blue transition duration-150"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5 mr-2"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M4 4v6h6M20 20v-6h-6M4 20l16-16"
            />
          </svg>
          <span>Reset Defaults</span>
        </button>
      </div>

      <div
        *ngIf="statusMessage"
        class="text-sm text-gray-600 pt-2 transition-opacity duration-500 ease-in"
      >
        {{ statusMessage }}
      </div>
    </div>
  </div>
</main>


  <!-- Logout Modal -->
  <div
    *ngIf="isLogoutModalOpen"
    class="fixed inset-0 z-50 flex items-center justify-center"
  >
    <!-- Blurred background overlay -->
    <div
      class="absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm"
      (click)="closeLogoutModal()"
    ></div>

    <!-- Modal content -->
    <div
      class="relative bg-white rounded-xl shadow-2xl w-96 max-w-sm p-6 z-10 animate-fadeIn"
    >
      <h2 class="text-lg font-bold text-gray-900 mb-4">Confirm Logout</h2>
      <p class="text-sm text-gray-600 mb-6">
        Are you sure you want to log out?
      </p>
      <div class="flex justify-end space-x-3">
        <button
          (click)="closeLogoutModal()"
          class="px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-100 transition"
        >
          Cancel
        </button>
        <button
          (click)="logout()"
          class="px-4 py-2 rounded-lg bg-intelli-dark-blue text-white hover:bg-intelli-dark transition"
        >
          Logout
        </button>
      </div>
    </div>
  </div>
</div>
